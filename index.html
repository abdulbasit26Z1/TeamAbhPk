<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Team Abh Pk</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/marketplace.css" rel="stylesheet">
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Service purchase system loaded');

      // Helper safe getters
      const $ = (sel) => document.querySelector(sel);
      const $$ = (sel) => Array.from(document.querySelectorAll(sel));
      const getById = (id) => document.getElementById(id);

      // Grab elements safely
      const serviceBuyButtons = $$('.service-buy-btn');
      const servicePurchaseModal = getById('service-purchase-modal');
      const cartModal = getById('cart-modal');
      const orderConfirmationModal = getById('order-confirmation-modal');
      const closeModalButtons = $$('.close-modal');
      const packageOptions = $$('.package-option');
      const serviceNameInput = getById('service-name');
      const totalPriceDisplay = getById('total-price');
      const addToCartBtn = getById('add-to-cart-btn');
      const successMessage = getById('success-message');
      const continueShoppingBtn = getById('continue-shopping');
      const goToCartBtn = getById('go-to-cart');
      const cartIcon = getById('cart-icon');
      const cartCount = $('.cart-count');
      const cartItemsContainer = getById('cart-items');
      const cartTotalPrice = getById('cart-total-price');
      const continueShoppingCartBtn = getById('continue-shopping-cart');
      const proceedCheckoutBtn = getById('proceed-checkout');
      const orderDetails = getById('order-details');
      const orderIdElement = getById('order-id');
      const closeOrderConfirmation = getById('close-order-confirmation');

      // If there are no buy buttons and no cart UI, skip initializing purchase logic
      if (serviceBuyButtons.length === 0 && !cartIcon && !servicePurchaseModal) {
        console.log('No purchase UI detected — skipping service purchase initialization');
        return;
      }

      let currentService = null;
      let currentBasePrice = 0;
      let selectedPackage = 'basic';
      let cart = [];
      let orders = [];

      // WhatsApp configuration
      const WHATSAPP_NUMBER = '923328657885';

      // Initialize cart and orders from localStorage if available
      try { if (localStorage.getItem('serviceCart')) { cart = JSON.parse(localStorage.getItem('serviceCart')); updateCartCount(); } } catch(e) { console.warn('Could not parse serviceCart', e); }
      try { if (localStorage.getItem('serviceOrders')) { orders = JSON.parse(localStorage.getItem('serviceOrders')); } } catch(e){ console.warn('Could not parse serviceOrders', e); }

      // Service Buy Button Click
      if (serviceBuyButtons.length) {
        serviceBuyButtons.forEach(button => {
          button.addEventListener('click', function() {
            currentService = this.getAttribute('data-service') || currentService;
            currentBasePrice = parseInt(this.getAttribute('data-base-price')) || currentBasePrice;

            if (serviceNameInput) serviceNameInput.value = currentService || '';
            updatePackagePrices();
            calculateTotalPrice();

            // Reset form fields if present
            const cname = getById('customer-name'); if (cname) cname.value = '';
            const cemail = getById('customer-email'); if (cemail) cemail.value = '';
            const cphone = getById('customer-phone'); if (cphone) cphone.value = '';
            const pdetails = getById('project-details'); if (pdetails) pdetails.value = '';
            if (successMessage) successMessage.style.display = 'none';

            if (servicePurchaseModal) servicePurchaseModal.style.display = 'block';
          });
        });
      }

      // Package Selection (guarded)
      if (packageOptions.length) {
        packageOptions.forEach(option => {
          option.addEventListener('click', function() {
            packageOptions.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');
            selectedPackage = this.getAttribute('data-package') || selectedPackage;
            calculateTotalPrice();
          });
        });
      }

      // Update package prices
      function updatePackagePrices() {
        if (!currentBasePrice) return;
        const bp = getById('basic-price'); if (bp) bp.textContent = currentBasePrice;
        const sp = getById('standard-price'); if (sp) sp.textContent = Math.round(currentBasePrice * 1.5);
        const pp = getById('premium-price'); if (pp) pp.textContent = currentBasePrice * 2;
      }

      // Calculate total price
      function calculateTotalPrice() {
        let multiplier = 1;
        switch(selectedPackage) {
          case 'standard': multiplier = 1.5; break;
          case 'premium': multiplier = 2; break;
        }
        const totalPrice = Math.round(currentBasePrice * multiplier) || 0;
        if (totalPriceDisplay) totalPriceDisplay.textContent = totalPrice;
        return totalPrice;
      }

      // Add to Cart (guarded)
      if (addToCartBtn) {
        addToCartBtn.addEventListener('click', function() {
          const customerName = (getById('customer-name') || {}).value || '';
          const customerEmail = (getById('customer-email') || {}).value || '';
          const customerPhone = (getById('customer-phone') || {}).value || '';
          const projectDetails = (getById('project-details') || {}).value || '';

          if (!customerName || !customerEmail || !customerPhone) {
            alert('Please fill in all required fields: Name, Email, and Phone');
            return;
          }

          const totalPrice = calculateTotalPrice();

          const cartItem = {
            id: Date.now(),
            service: currentService,
            package: selectedPackage,
            basePrice: currentBasePrice,
            totalPrice: totalPrice,
            customerName: customerName,
            customerEmail: customerEmail,
            customerPhone: customerPhone,
            projectDetails: projectDetails,
            timestamp: new Date().toISOString()
          };

          cart.push(cartItem);
          saveCartToLocalStorage();
          updateCartCount();

          if (successMessage) successMessage.style.display = 'block';
        });
      }

      // Continue Shopping
      if (continueShoppingBtn) continueShoppingBtn.addEventListener('click', function() {
        if (servicePurchaseModal) servicePurchaseModal.style.display = 'none';
        if (successMessage) successMessage.style.display = 'none';
      });

      // Go to Cart
      if (goToCartBtn) goToCartBtn.addEventListener('click', function() {
        if (servicePurchaseModal) servicePurchaseModal.style.display = 'none';
        if (successMessage) successMessage.style.display = 'none';
        showCartModal();
      });

      // Cart Icon Click
      if (cartIcon) cartIcon.addEventListener('click', function(e) {
        e.preventDefault();
        showCartModal();
      });

      // Show Cart Modal
      function showCartModal() {
        updateCartDisplay();
        if (cartModal) cartModal.style.display = 'block';
      }

      // Update Cart Display
      function updateCartDisplay() {
        if (!cartItemsContainer) return;
        cartItemsContainer.innerHTML = '';
        let total = 0;

        if (cart.length === 0) {
          cartItemsContainer.innerHTML = '<p>Your cart is empty</p>';
          if (cartTotalPrice) cartTotalPrice.textContent = '0';
          return;
        }

        cart.forEach(item => {
          total += item.totalPrice;

          const cartItemElement = document.createElement('div');
          cartItemElement.className = 'cart-item';
          cartItemElement.innerHTML = `
            <div class="cart-item-details">
              <h4>${item.service}</h4>
              <p>Package: ${item.package.charAt(0).toUpperCase() + item.package.slice(1)}</p>
              <p>Customer: ${item.customerName}</p>
            </div>
            <div class="cart-item-price">$${item.totalPrice}</div>
            <button class="remove-item" data-id="${item.id}">&times;</button>
          `;
          cartItemsContainer.appendChild(cartItemElement);
        });

        if (cartTotalPrice) cartTotalPrice.textContent = total;

        // Add event listeners to remove buttons
        Array.from(document.querySelectorAll('.remove-item')).forEach(button => {
          button.addEventListener('click', function() {
            const itemId = parseInt(this.getAttribute('data-id'));
            removeFromCart(itemId);
          });
        });
      }

      // Remove from Cart
      function removeFromCart(itemId) {
        cart = cart.filter(item => item.id !== itemId);
        saveCartToLocalStorage();
        updateCartCount();
        updateCartDisplay();
      }

      // Update Cart Count
      function updateCartCount() {
        if (cartCount) cartCount.textContent = cart.length;
      }

      // Save Cart to Local Storage
      function saveCartToLocalStorage() {
        try { localStorage.setItem('serviceCart', JSON.stringify(cart)); } catch(e){console.warn('Could not save cart', e);}
      }

      // Continue Shopping from Cart
      if (continueShoppingCartBtn) continueShoppingCartBtn.addEventListener('click', function() {
        if (cartModal) cartModal.style.display = 'none';
      });

      // Proceed to Checkout
      if (proceedCheckoutBtn) proceedCheckoutBtn.addEventListener('click', function() {
        if (cart.length === 0) {
          alert('Your cart is empty');
          return;
        }

        // Generate order
        const orderId = 'ORD-' + Date.now();
        const order = {
          id: orderId,
          items: [...cart],
          total: cart.reduce((sum, item) => sum + item.totalPrice, 0),
          timestamp: new Date().toISOString(),
          status: 'pending'
        };

        orders.push(order);
        try { localStorage.setItem('serviceOrders', JSON.stringify(orders)); } catch(e){console.warn('Could not save orders', e);}

        // Send to WhatsApp
        sendOrderToWhatsApp(order);

        // Show confirmation
        showOrderConfirmation(order);

        // Clear cart
        cart = [];
        saveCartToLocalStorage();
        updateCartCount();

        // Close cart modal
        if (cartModal) cartModal.style.display = 'none';
      });

      // Send Order to WhatsApp
      function sendOrderToWhatsApp(order) {
        let message = `*NEW SERVICE ORDER - ${order.id}*\n\n`;
        message += `*Order Summary:*\n`;
        message += `Total: $${order.total}\n`;
        message += `Items: ${order.items.length}\n\n`;
        message += `*Order Details:*\n`;

        order.items.forEach((item, index) => {
          message += `\n*Item ${index + 1}:*\n`;
          message += `Service: ${item.service}\n`;
          message += `Package: ${item.package}\n`;
          message += `Price: $${item.totalPrice}\n`;
          message += `Customer: ${item.customerName}\n`;
          message += `Email: ${item.customerEmail}\n`;
          message += `Phone: ${item.customerPhone}\n`;
          if (item.projectDetails) {
            message += `Details: ${item.projectDetails}\n`;
          }
        });

        const encodedMessage = encodeURIComponent(message);
        const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedMessage}`;

        // Open WhatsApp in new tab
        window.open(whatsappUrl, '_blank');
      }

      // Show Order Confirmation
      function showOrderConfirmation(order) {
        if (orderIdElement) orderIdElement.textContent = order.id;

        if (!orderDetails) return;
        let orderDetailsHTML = '';
        order.items.forEach((item, index) => {
          orderDetailsHTML += `
            <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #ddd;">
              <strong>Item ${index + 1}:</strong><br>
              Service: ${item.service}<br>
              Package: ${item.package}<br>
              Price: $${item.totalPrice}<br>
              Customer: ${item.customerName}
            </div>
          `;
        });

        orderDetailsHTML += `<div style="margin-top: 15px; font-weight: bold;">Total: $${order.total}</div>`;
        orderDetails.innerHTML = orderDetailsHTML;

        if (orderConfirmationModal) orderConfirmationModal.style.display = 'block';
      }

      // Close Order Confirmation
      if (closeOrderConfirmation) closeOrderConfirmation.addEventListener('click', function() {
        if (orderConfirmationModal) orderConfirmationModal.style.display = 'none';
      });

      // Close Modals
      if (closeModalButtons.length) {
        closeModalButtons.forEach(button => {
          button.addEventListener('click', function() {
            if (servicePurchaseModal) servicePurchaseModal.style.display = 'none';
            if (cartModal) cartModal.style.display = 'none';
            if (orderConfirmationModal) orderConfirmationModal.style.display = 'none';
          });
        });
      }

      // Close modal when clicking outside
      window.addEventListener('click', function(event) {
        if (event.target === servicePurchaseModal && servicePurchaseModal) {
          servicePurchaseModal.style.display = 'none';
        }
        if (event.target === cartModal && cartModal) {
          cartModal.style.display = 'none';
        }
        if (event.target === orderConfirmationModal && orderConfirmationModal) {
          orderConfirmationModal.style.display = 'none';
        }
      });
    });
    </script>
                </div>
              </div>
              <div class="member-info">
                <h4>Ahmad Ihsan</h4>
                <span>Lead Frontend Developer</span>
                <p>React specialist with a passion for performance optimization and modern web technologies.</p>
                <h7> React,TypeScript,Performance,<br>Testing</h7>
              </div>
            </div>
          </div><!-- End Team Member -->

          <!-- Arslan -->
          <div class="col-lg-3 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="400">
            <div class="team-member">
              <div class="member-img">
                <img src="team/arslan.jpg" class="img-fluid" alt="">
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
              <div class="member-info">
                <h4>Muhammad Arslan</h4>
                <span>Accountant</span>
                <p>Rerum voluptate non adipisci animi distinctio et deserunt amet voluptas. Quia aut aliquid doloremque ut possimus ipsum officia.</p>
              </div>
            </div>
          </div><!-- End Team Member -->

        </div>

      </div>

    </section><!-- /Team Section -->

    <!-- Contact Section -->
    <section id="contact" class="contact section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Contact</h2>
        <p>Ready to transform your ideas into reality? We're here to help you every step of the way.</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">

          <div class="col-lg-6">

            <div class="row gy-4">
              <div class="col-md-6">
                <div class="info-item" data-aos="fade" data-aos-delay="200">
                  <i class="bi bi-geo-alt"></i>
                  <h3>Address</h3>
                  <p>Raiwand road</p>
                  <p>Lahore , PAkistan</p>
                </div>
              </div><!-- End Info Item -->

              <div class="col-md-6">
                <div class="info-item" data-aos="fade" data-aos-delay="300">
                  <i class="bi bi-telephone"></i>
                  <h3>Call Us</h3>
                  <p>+92 332 8657885</p>
                  <p>+92 3700602339</p>
                </div>
              </div><!-- End Info Item -->

              <div class="col-md-6">
                <div class="info-item" data-aos="fade" data-aos-delay="400">
                  <i class="bi bi-envelope"></i>
                  <h3>Email Us</h3>
                  <p>teamabhpk@gmail.com</p>
                </div>
              </div><!-- End Info Item -->

              <div class="col-md-6">
                <div class="info-item" data-aos="fade" data-aos-delay="500">
                  <i class="bi bi-clock"></i>
                  <h3>Open Hours</h3>
                  <p>Monday - Sunday</p>
                  <p>24/7/365</p>
                </div>
              </div><!-- End Info Item -->

            </div>

          </div>

          <div class="col-lg-6">
            <form action="https://formspree.io/f/mzzkjvwy" method="POST" data-aos="fade-up" data-aos-delay="200">
              <div class="row gy-4">

                <div class="col-md-6">
                  <input type="text" name="name" class="form-control" placeholder="Your Name" required>
                </div>

                <div class="col-md-6">
                  <input type="email" name="_replyto" class="form-control" placeholder="Your Email" required>
                </div>

                <div class="col-12">
                  <input type="text" name="_subject" class="form-control" placeholder="Subject" required>
                </div>

                <div class="col-12">
                  <textarea name="message" class="form-control" rows="6" placeholder="Message" required></textarea>
                </div>

                <div class="col-12 text-center">
                  <button type="submit">Send Message</button>
                </div>

              </div>
            </form>
          </div>
          <!-- End Contact Form -->

        </div>

      </div>

    </section><!-- /Contact Section -->

  </main>

  <footer id="footer" class="footer accent-background">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-5 col-md-12 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">Team Abh Pk</span>
          </a>
          <p>We are a leading software development company specializing in web applications, mobile apps, and custom software solutions. Our team of expert developers delivers high-quality, scalable solutions that drive business growth.</p>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Terms of service</a></li>
            <li><a href="#">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a href="#">Web Design</a></li>
            <li><a href="#">Web Development</a></li>
            <li><a href="#">Application Development</a></li>
            <li><a href="#">Marketing</a></li>
            <li><a href="#">Graphic Design</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
          <h4>Contact Us</h4>
          <p>raiwand road</p>
          <p>Lahore</p>
          <p>Pakistan</p>
          <p class="mt-4"><strong>Phone:</strong> <span>+93 332 8657885</span></p>
          <p><strong>Email:</strong> <span>teamabhpk@gmail.com</span></p>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">Team Abh PK</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- Service Purchase JavaScript handled above (guarded) -->

  </body>
</html>
